rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // Content collection - public read, authenticated write
    match /content/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Settings collection - public read, authenticated write
    match /settings/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Services collection - public read, authenticated write
    match /services/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // FAQs collection - public read, authenticated write
    match /faqs/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Media/Images collection - public read, authenticated write
    match /media/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Appointments collection - public create, authenticated read/update
    match /appointments/{appointmentId} {
      allow read: if request.auth != null;
      allow create: if true; // Anyone can create appointments
      allow update: if request.auth != null;
      allow delete: if request.auth != null;
    }
    
    // Messages/Contact collection - public create, authenticated read
    match /messages/{messageId} {
      allow read: if request.auth != null;
      allow create: if true; // Anyone can send messages
      allow update: if request.auth != null;
      allow delete: if request.auth != null;
    }
    
    // Working hours collection - public read, authenticated write
    match /workingHours/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
  }
}
